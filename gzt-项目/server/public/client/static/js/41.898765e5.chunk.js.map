{"version":3,"sources":["components/textLabel/index.tsx","pages/work/review/common/GroupTypeItem.tsx","pages/work/review/common/GroupNameItem.tsx","pages/work/review/common/TemplateList.tsx","pages/work/review/processmgt/processmgt.module.scss","pages/work/review/processmgt/Processmgt.tsx"],"names":["TextLabel","_ref","text","_ref$colon","colon","rest","Object","_Users_litong_laravel_gzt_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","assign","className","Meta","GroupTypeItem","pathname","params","type","onEnableStateChange","onGroupMove","changeEnableStateUrl","deleteUrl","onDeleteChange","_useState","useState","_useState2","_Users_litong_laravel_gzt_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_16__","loading","setLoading","allow_user_names","id","name","description","updated_at","approval_method","is_show","need_approval","_handleEnableState","_Users_litong_laravel_gzt_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__","_Users_litong_laravel_gzt_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","body","result","wrap","_context","prev","next","request","method","sent","status","antd_es_message__WEBPACK_IMPORTED_MODULE_2__","success","error","stop","apply","this","arguments","_handleDelete","_callee2","_context2","abrupt","deleteText","react__WEBPACK_IMPORTED_MODULE_19___default","antd_es_spin__WEBPACK_IMPORTED_MODULE_4__","spinning","antd_es_row__WEBPACK_IMPORTED_MODULE_6__","style","padding","alignItems","background","borderBottom","antd_es_col__WEBPACK_IMPORTED_MODULE_12__","span","antd_es_card__WEBPACK_IMPORTED_MODULE_18__","bordered","avatar","antd_es_avatar__WEBPACK_IMPORTED_MODULE_14__","size","shape","title","_components_textLabel__WEBPACK_IMPORTED_MODULE_21__","color","length","concat","slice","textAlign","react_router_dom__WEBPACK_IMPORTED_MODULE_20__","to","state","data","antd_es_popconfirm__WEBPACK_IMPORTED_MODULE_8__","placement","icon","antd_es_icon__WEBPACK_IMPORTED_MODULE_10__","maxWidth","onConfirm","okText","cancelText","onClick","GroupNameItem","count","onRenameGroup","onDeleteGroup","react__WEBPACK_IMPORTED_MODULE_6___default","antd_es_row__WEBPACK_IMPORTED_MODULE_1__","marginTop","lineHeight","antd_es_col__WEBPACK_IMPORTED_MODULE_5__","antd_es_popconfirm__WEBPACK_IMPORTED_MODULE_3__","Templatelist","datasource","onItemClick","restProps","_Users_litong_laravel_gzt_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_5__","map","_ref2","key","marginBottom","_ref3","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","antd_es_card__WEBPACK_IMPORTED_MODULE_1__","hoverable","float","margin","width","antd_es_avatar__WEBPACK_IMPORTED_MODULE_3__","fontSize","substr","module","exports","groupBtn","create","header","processList","processGroupItem","active","Header","Content","Processmgt","connect","_Users_litong_laravel_gzt_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_21__","effects","dispatch","queryProcesses","queryProcessGroup","cb","payload","addGroupVisible","processListVisible","processCreateVisible","addGroupValue","renameGroup","renameGroupVisible","moveToOtherGroupVisible","afterMovingGroup","beforeMovingProcess","handleEnableStateChange","_this","props","handleDeleteChange","showAddGroupModal","setState","addGroup","_Users_litong_laravel_gzt_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_12___default","antd_es_message__WEBPACK_IMPORTED_MODULE_14__","cancelGroup","addGroupChange","e","target","value","showProcessCreateModal","cancelProcessList","handleRenameGroup","oldName","disabled","cancelRenameGroup","renameGroupChange","handleDeleteGroup","_callee3","_context3","handleGroupMove","groupId","moveToOtherGroup","_callee4","_context4","template_id","type_id","cancelMove","handleMoveGroupChecked","decryptId","_this2","_this$props","processes","processGroup","_this$state","react__WEBPACK_IMPORTED_MODULE_24__","antd_es_layout__WEBPACK_IMPORTED_MODULE_23__","S","antd_es_button__WEBPACK_IMPORTED_MODULE_11__","ghost","react_router_dom__WEBPACK_IMPORTED_MODULE_25__","antd_es_spin__WEBPACK_IMPORTED_MODULE_5__","enable","_ref5","_common_GroupNameItem__WEBPACK_IMPORTED_MODULE_27__","_common_GroupTypeItem__WEBPACK_IMPORTED_MODULE_26__","antd_es_row__WEBPACK_IMPORTED_MODULE_7__","antd_es_col__WEBPACK_IMPORTED_MODULE_9__","disable","antd_es_modal__WEBPACK_IMPORTED_MODULE_1__","visible","onOk","onCancel","antd_es_input__WEBPACK_IMPORTED_MODULE_3__","onChange","maxLength","placeholder","okButtonProps","closable","bodyStyle","maxHeight","overflowY","_ref6","classnames","_components_textLabel__WEBPACK_IMPORTED_MODULE_32__","footer","wrapClassName","getContainer","document","getElementsByClassName","_common_TemplateList__WEBPACK_IMPORTED_MODULE_30__","React"],"mappings":"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","file":"static/js/41.898765e5.chunk.js","sourcesContent":["import React from 'react'\nexport default function TextLabel({\n  text,\n  colon = true,\n  ...rest\n}: {\n  text: string;\n  colon?: boolean;\n  [propName: string]: any;\n}) {\n  return (\n    <span className=\"text-label\" {...rest}>{text}{colon ? '：' : ''}</span>\n  )\n}","import React, { useState } from 'react';\nimport { Row, Col, Card, Avatar, message, Spin, Popconfirm, Icon } from 'antd';\nimport { Link } from 'react-router-dom';\nimport TextLabel from '../../../../components/textLabel';\nimport request from '../../../../utils/request';\n\nconst { Meta } = Card;\n\nexport interface GroupTypeItemProps {\n  /** 点击编辑跳转路由 */\n  pathname?: string;\n  /** 类型 */\n  type: 'template' | 'process' | 'export';\n  /** 数据 */\n  params: any;\n  /** 启用禁用 请求的api */\n  changeEnableStateUrl: string;\n  /** 启用禁用 状态改变后触发 */\n  onEnableStateChange?: Function;\n  /** 移动分组 状态改变后触发 */\n  onGroupMove?: Function;\n  /** 删除请求的api */\n  deleteUrl?: string;\n  /** 删除 状态改变后触发 */\n  onDeleteChange?: Function;\n\n}\n\n/**\n * 分组下具体流程item\n */\nexport default function GroupTypeItem({\n  pathname,\n  params,\n  type,\n  onEnableStateChange,\n  onGroupMove,\n  changeEnableStateUrl,\n  deleteUrl,\n  onDeleteChange\n\n}: GroupTypeItemProps) {\n\n  const [loading, setLoading] = useState(false);\n\n  const {\n    allow_user_names, id, name, description, updated_at, approval_method, is_show, need_approval,\n  } = params;\n  /** 处理 禁用/启用状态 */\n  async function handleEnableState() {\n\n    setLoading(true);\n\n    const body = type === 'export' ? { id, is_show: is_show === 1 ? 'disable' : 'enable' } : { id };\n\n    const result = await request(changeEnableStateUrl, {\n      method: 'POST',\n      body\n    });\n    setLoading(false);\n    if (result.status === 'success') {\n      message.success(is_show === 1 ? '禁用成功' : '启用成功');\n      onEnableStateChange && onEnableStateChange();\n    } else {\n      message.error('服务器异常，请稍后再试')\n    }\n  }\n\n  function handleMoveGroup() {\n    onGroupMove && onGroupMove();\n  }\n\n  async function handleDelete() {\n    if (!deleteUrl) {\n      return\n    }\n\n    setLoading(true);\n    const result = await request(deleteUrl, {\n      method: 'POST',\n      body: {\n        id\n      }\n    });\n    setLoading(false);\n    if (result.status === 'success') {\n      message.success('删除成功');\n      onDeleteChange && onDeleteChange();\n    } else {\n      message.error('服务器异常，请稍后再试')\n    }\n  }\n\n  const deleteText = is_show === 1\n    ? '确定删除该模板吗?删除后，可能会影响到正在进行中的评审，请确认当前模板下没有正在进行中的评审'\n    : '确定删除该审批流程吗?删除后，可能会影响到正在进行中的评审，请确认当前审批流程下没有正在进行中的评审';\n\n  return (\n    <Spin spinning={loading}>\n      <Row type=\"flex\" style={{ padding: '0 10px', alignItems: 'center', background: '#fff', borderBottom: '1px solid #ddd' }}>\n        <Col span={type === 'template' ? 6 : 8}>\n          <Card bordered={false}>\n            <Meta\n              avatar={\n                <Avatar size=\"large\" shape=\"square\" style={{ background: '#1890ff' }}>\n                  {name}\n                </Avatar>\n              }\n              title={name}\n              description={description}\n            />\n          </Card>\n        </Col>\n        <Col span={type === 'template' ? 6 : 8}>\n          更新时间：<span>{updated_at}</span>\n        </Col>\n        {\n          type === 'template' ?\n            need_approval === true ? (\n              <Col span={4}>\n                {approval_method}\n              </Col>\n            ) : (\n                <Col span={4}>当前模板不需要审批</Col>\n              )\n            : null\n        }\n        <Col span={4}>\n          <TextLabel text=\"可见范围\" />\n          <span style={{ color: '#e8a54c' }}>\n            {/* 少于7人全部展示, 超过的话显示总人数 */}\n            {\n              allow_user_names.length === 1 ?\n                allow_user_names[0] :\n                allow_user_names.length > 7 ?\n                  `${allow_user_names.slice(0, 7)}等${allow_user_names.length}人可见`\n                  : `${allow_user_names}`\n            }\n          </span>\n        </Col>\n        <Col span={4} style={{ textAlign: 'right' }}>\n          {pathname && (\n            <Link to={\n              {\n                pathname,\n                state: {\n                  type: 'UPDATE',\n                  data: {\n                    id\n                  }\n                }\n              }\n            }>\n              <span className=\"primary-color cursor-pointer\" style={{ padding: '0 12px' }}>编辑</span>\n            </Link>\n          )}\n\n          {\n            is_show !== 1 && (\n              <Popconfirm\n                placement=\"topLeft\"\n                icon={<Icon type=\"question-circle-o\" style={{ color: 'red' }} />}\n                title={\n                  <div style={{ maxWidth: 450 }}>\n                    {deleteText}\n                  </div>\n                }\n                onConfirm={handleDelete}\n                okText=\"确定\"\n                cancelText=\"取消\"\n              >\n                <span\n                  className=\"primary-color cursor-pointer\"\n                  style={{ padding: '0 12px' }}>\n                  删除\n              </span>\n              </Popconfirm>\n            )\n          }\n          <span\n            onClick={handleEnableState}\n            className=\"primary-color cursor-pointer\"\n            style={{ padding: '0 12px' }}>{is_show === 1 ? '禁用' : '启用'}\n          </span>\n          {\n            is_show === 1 && (\n              <span\n                onClick={handleMoveGroup}\n                className=\"primary-color cursor-pointer\"\n                style={{ padding: '0 12px' }}>\n                移动到\n              </span>\n            )\n          }\n        </Col>\n      </Row>\n    </Spin>\n  )\n}","import React from 'react';\nimport { Row, Col, Popconfirm } from 'antd';\n\n\nexport interface GroupNameItemProps {\n  /** 分组名称 */\n  type: string;\n  /** 分组下流程( 模板 ) 数量 */\n  count: number;\n  /** 点击 `重命名` */\n  onRenameGroup?: Function;\n  /** 点击 `删除分组` */\n  onDeleteGroup?: Function;\n}\n\n/**\n * 分组名称item\n */\nexport default function GroupNameItem({\n  type,\n  count,\n  onRenameGroup,\n  onDeleteGroup\n}: GroupNameItemProps) {\n\n  function handleRenameGroup() {\n    onRenameGroup && onRenameGroup()\n  }\n\n  function confirm() {\n    onDeleteGroup && onDeleteGroup()\n  }\n\n  return (\n    <Row type=\"flex\" style={{ marginTop: '10px', padding: '0 8px', lineHeight: '40px', background: '#f9f9f9' }}>\n      <Col span={6}>\n        <span style={{ color: '#222' }}>{type}</span>\n        <span>（{count}）</span>\n      </Col>\n      <Col span={18} style={{ textAlign: 'right' }}>\n        <span\n          onClick={handleRenameGroup}\n          className=\"primary-color cursor-pointer\"\n          style={{ padding: '0 12px' }}>\n          重命名\n        </span>\n        {\n          count === 0 ? (\n            <Popconfirm placement=\"left\" title=\"确定删除该分组吗？\" onConfirm={confirm} okText=\"确定\" cancelText=\"取消\">\n              <span\n                className=\"primary-color cursor-pointer\"\n                style={{ padding: '0 12px' }}\n              >\n                删除该组\n              </span>\n            </Popconfirm>\n          ) : null\n        }\n      </Col>\n    </Row>\n  )\n}","import * as React from 'react';\nimport { Card, Avatar } from 'antd';\nimport { Link } from 'react-router-dom';\n\ninterface TemplatelistProps extends React.HTMLAttributes<HTMLDivElement> {\n  datasource: {\n    count: number;\n    data: any[]\n    id: string;\n    name: string;\n    type: string;\n  }[],\n  pathname: string;\n  onItemClick?: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n}\n\nexport default function Templatelist({\n  datasource,\n  pathname,\n  onItemClick,\n  ...restProps\n}: TemplatelistProps) {\n\n  return (\n    <div {...restProps}>\n      {\n        datasource && datasource.map(({ id, name, count, data }) => (\n          count !== 0 && (\n            <div key={id}>\n              <div style={{ marginBottom: 16 }}>\n                {name}（{count}）\n                </div>\n              <div className=\"clearfix\">\n                {data.map(({ id, name, description }) => (\n                  <Link\n                    key={id}\n                    to={{\n                      pathname,\n                      state: {\n                        type: 'INSERT',\n                        data: {\n                          id,\n                          name\n                        }\n                      }\n                    }}\n                  >\n                    <Card\n                      size=\"small\"\n                      hoverable\n                      bordered\n                      style={{ float: 'left', margin: '0 16px 16px 0', width: 220 }}\n                      onClick={onItemClick}\n                    >\n                      <Card.Meta\n                        className=\"review-tempitem\"\n                        avatar={<Avatar shape=\"square\" size={42} style={{ background: '#1890ff', fontSize: 14 }}>{name && name.substr(0, 2)}</Avatar>}\n                        title={<span style={{ fontSize: 14 }}>{name}</span>}\n                        description={<div className=\"overflow-ellipsis\" style={{ fontSize: 12 }}>{description}</div>}\n                      />\n                    </Card>\n                  </Link>\n                ))}\n              </div>\n            </div>\n          )))\n      }\n    </div>\n  )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"groupBtn\":\"processmgt_groupBtn__1T7gL\",\"create\":\"processmgt_create__llUIW\",\"header\":\"processmgt_header__3pbCM\",\"processList\":\"processmgt_processList__3PLMO\",\"processGroupItem\":\"processmgt_processGroupItem__1O_1O\",\"active\":\"processmgt_active__1vVcg\"};","import * as React from 'react';\nimport { Layout, Button, Modal, Input, Row, Col, Spin, message } from 'antd';\nimport { Link } from 'react-router-dom';\nimport GroupTypeItem from '../common/GroupTypeItem';\nimport GroupNameItem from '../common/GroupNameItem';\nimport { connect } from 'dva';\nimport request from '../../../../utils/request';\nimport Templatelist from '../common/TemplateList';\nimport decryptId from '../../../../utils/decryptId';\nimport TextLabel from '../../../../components/textLabel';\nimport classnames from 'classnames';\nimport S from './processmgt.module.scss'\n\nconst { Header, Content } = Layout;\nconst NAMESPACE = 'Review';\nconst mapStateToProps = (state: any) => {\n  return {\n    ...state[NAMESPACE],\n    loading: state.loading.effects[`${NAMESPACE}/queryProcesses`]\n  }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    /**  获取流程列表信息 */\n    queryProcesses: () => {\n      dispatch({\n        type: `${NAMESPACE}/queryProcesses`\n      });\n    },\n    /** 获取流程分组信息 */\n    queryProcessGroup: (cb: Function) => {\n      dispatch({\n        type: `${NAMESPACE}/queryProcessGroup`,\n        payload: cb\n      });\n    },\n  }\n}\nexport interface ProcessmgtProps {\n  /** 获取流程列表信息 */\n  queryProcesses: Function;\n  /** 流程列表 */\n  processes: any;\n  /** 流程列表loading */\n  loading: boolean;\n  /** 获取流程分组信息 */\n  queryProcessGroup: Function;\n  /** 流程分组信息 */\n  processGroup: any;\n}\n@connect(mapStateToProps, mapDispatchToProps)\nexport default class Processmgt extends React.Component<ProcessmgtProps>{\n\n  state = {\n    addGroupVisible: false,\n    processListVisible: false,\n    processCreateVisible: false,\n    addGroupValue: '',\n    renameGroup: null as any,\n    renameGroupVisible: false,\n    moveToOtherGroupVisible: false,\n    afterMovingGroup: null as any,\n    beforeMovingProcess: null as any\n  }\n\n  componentDidMount() {\n    this.props.queryProcesses();\n  }\n  /** 流程禁用启用状态改变后更新流程列表信息 */\n  handleEnableStateChange = () => {\n    this.props.queryProcesses();\n  }\n  /** 流程删除后更新流程列表信息 */\n  handleDeleteChange = () => {\n    this.props.queryProcesses();\n  }\n  /** 显示添加分组模态框 */\n  showAddGroupModal = () => {\n    this.setState({\n      addGroupVisible: true,\n      addGroupValue: ''\n    })\n  }\n  /** 发送添加分组请求 */\n  addGroup = async () => {\n\n    this.setState({\n      addGroupVisible: false\n    })\n\n    const result = await request('/api/c_pst_add_process_template_type', {\n      method: 'POST',\n      body: {\n        name: this.state.addGroupValue\n      }\n    });\n\n    if (result.status === 'success') {\n      message.success('新建成功');\n      this.props.queryProcesses();\n    } else {\n      message.error('服务器异常，请稍后再试')\n    }\n  }\n\n  cancelGroup = () => {\n    this.setState({\n      addGroupVisible: false\n    })\n  }\n\n  addGroupChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({\n      addGroupValue: e.target.value\n    })\n  }\n\n  /**\n   * 显示流程列表模态框\n   */\n  showProcessCreateModal = () => {\n    this.setState({\n      processCreateVisible: true\n    })\n  }\n\n  cancelProcessList = () => {\n    this.setState({\n      processCreateVisible: false\n    })\n  }\n\n  /** 显示重命名分组模态框 */\n  handleRenameGroup = (id: string, name: string) => {\n    this.setState({\n      renameGroupVisible: true,\n      renameGroup: {\n        id,\n        name,\n        oldName: name,\n        disabled: true\n      }\n    })\n  }\n  /** 发送重命名分组请求 */\n  renameGroup = async () => {\n\n    this.setState({\n      renameGroupVisible: false\n    })\n\n    const result = await request('/api/c_pst_alter_process_template_name', {\n      method: 'POST',\n      body: {\n        id: this.state.renameGroup.id,\n        name: this.state.renameGroup.name\n      }\n    });\n\n    if (result.status === 'success') {\n      message.success('重命名成功');\n      this.props.queryProcesses();\n    } else {\n      message.error('服务器异常，请稍后再试')\n    }\n  }\n  /** 取消重命名分组 关闭模态框 */\n  cancelRenameGroup = () => {\n    this.setState({\n      renameGroupVisible: false\n    })\n  }\n  /** 重命名分组 内容改变回调 */\n  renameGroupChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({\n      renameGroup: {\n        id: this.state.renameGroup.id,\n        name: e.target.value,\n        oldName: this.state.renameGroup.oldName,\n        disabled: e.target.value === this.state.renameGroup.oldName\n      }\n    })\n  }\n\n  /** 删除分组 */\n  handleDeleteGroup = async (id: string) => {\n    const result = await request('/api/c_pst_delete_process_template_name', {\n      method: \"POST\",\n      body: {\n        id\n      }\n    });\n    if (result.status === 'success') {\n      message.success('删除成功');\n      this.props.queryProcesses();\n    } else {\n      message.error('服务器异常，请稍后再试')\n    }\n  }\n\n  /** 点击 `移动到` 触发事件 */\n  handleGroupMove = (groupId: string, id: string, name: string) => {\n    this.props.queryProcessGroup();\n    this.setState({\n      moveToOtherGroupVisible: true,\n      beforeMovingProcess: {\n        groupId,\n        id,\n        name\n      }\n    })\n  }\n  /** 移动至其他分组 */\n  moveToOtherGroup = async () => {\n    this.setState({\n      moveToOtherGroupVisible: false\n    });\n    const result = await request('/api/c_pst_move_process_template_type', {\n      method: \"POST\",\n      body: {\n        template_id: this.state.beforeMovingProcess.id,\n        type_id: this.state.afterMovingGroup.id\n      }\n    });\n    if (result.status === 'success') {\n      message.success('移动成功');\n      this.props.queryProcesses();\n    } else {\n      message.error('服务器异常，请稍后再试')\n    }\n\n  }\n  /** 取消移动分组 */\n  cancelMove = () => {\n    this.setState({\n      moveToOtherGroupVisible: false\n    })\n  }\n  /** 选中待移动的分组 */\n  handleMoveGroupChecked = (id: string) => {\n    // 当前所在组 返回\n    if (decryptId(this.state.beforeMovingProcess.groupId) === decryptId(id)) {\n      return\n    }\n    this.setState({\n      afterMovingGroup: {\n        id\n      }\n    })\n  }\n\n  render() {\n\n    const { processes, loading, processGroup } = this.props;\n\n    const {\n      addGroupVisible,\n      addGroupValue,\n      processCreateVisible,\n      renameGroupVisible,\n      renameGroup,\n      moveToOtherGroupVisible,\n      beforeMovingProcess,\n      afterMovingGroup\n    } = this.state;\n\n    return (\n      <Layout className=\"review-processmgt\">\n        <Header className={S.header}>\n          <Button\n            className={S.groupBtn}\n            type=\"primary\"\n            ghost\n            icon=\"folder-add\"\n            onClick={this.showAddGroupModal}\n          >添加分组</Button>\n          <Link to=\"/work/review/processGroupSort\">\n            <Button className={S.groupBtn} type=\"primary\" ghost icon=\"sort-ascending\" >\n              分组排序\n            </Button>\n          </Link>\n          {/* <Link to=\"/work/review/createprocess\"> */}\n          <Button\n            type=\"primary\"\n            className={S.create}\n            icon=\"plus\"\n            onClick={this.showProcessCreateModal}\n          >\n            新建审批流程\n            </Button>\n          {/* </Link> */}\n        </Header>\n        <Content className={S.processList}>\n          <Spin spinning={loading}>\n            {\n              processes && processes.enable.map(({ id, name, count, data }: any) => {\n                return (\n                  <div key={id}>\n                    <GroupNameItem\n                      type={name}\n                      count={count}\n                      onRenameGroup={() => this.handleRenameGroup(id, name)}\n                      onDeleteGroup={() => this.handleDeleteGroup(id)}\n                    />\n                    {\n                      data && data.map((params: any, key: any) => (\n                        <GroupTypeItem\n                          key={key}\n                          type=\"process\"\n                          params={params}\n                          pathname=\"/work/review/createProcess\"\n                          changeEnableStateUrl=\"/api/c_pst_switch_process_template_show\"\n                          onEnableStateChange={this.handleEnableStateChange}\n                          onGroupMove={() => this.handleGroupMove(id, params.id, params.name)}\n                        />\n                      ))\n                    }\n                  </div>\n                )\n              })\n            }\n            <Row type=\"flex\" style={{ marginTop: '10px', padding: '0 8px', lineHeight: '40px', background: '#f9f9f9' }}>\n              <Col span={4}>\n                <span style={{ color: '#222' }}>已禁用</span>\n                {/* <span>（{count}）</span> */}\n              </Col>\n            </Row>\n            {\n              processes && processes.disable.map((params: any, key: any) => (\n                <GroupTypeItem\n                  key={key}\n                  type=\"process\"\n                  params={params}\n                  changeEnableStateUrl=\"/api/c_pst_switch_process_template_show\"\n                  onEnableStateChange={this.handleEnableStateChange}\n                  deleteUrl=\"/api/c_pst_delete_process_template\"\n                  onDeleteChange={this.handleDeleteChange}\n                />\n              ))\n            }\n          </Spin>\n        </Content>\n        <Modal\n          visible={addGroupVisible}\n          title=\"添加分组\"\n          onOk={this.addGroup}\n          onCancel={this.cancelGroup}\n        >\n          <Input onChange={this.addGroupChange} value={addGroupValue} maxLength={12} placeholder=\"最多10个字\" />\n        </Modal>\n        <Modal\n          visible={renameGroupVisible}\n          title=\"重命名分组\"\n          onOk={this.renameGroup}\n          onCancel={this.cancelRenameGroup}\n          okButtonProps={{\n            disabled: renameGroup ? renameGroup.disabled : true\n          }}\n        >\n          <Input onChange={this.renameGroupChange} value={renameGroup && renameGroup.name} maxLength={12} placeholder=\"最多10个字\" />\n        </Modal>\n        <Modal\n          closable={false}\n          visible={moveToOtherGroupVisible}\n          title={`移动 \"${beforeMovingProcess && beforeMovingProcess.name}\" 至`}\n          onOk={this.moveToOtherGroup}\n          onCancel={this.cancelMove}\n          bodyStyle={{\n            padding: 0,\n            maxHeight: 250,\n            overflowY: 'auto'\n          }}\n        >\n          {\n            processGroup && processGroup.map(({ id, name }: any) => (\n              <div\n                key={id}\n                className={classnames('clearfix', S.processGroupItem, (afterMovingGroup && afterMovingGroup.id === id) ? S.active : '')}\n                onClick={() => this.handleMoveGroupChecked(id)}\n              >\n                <TextLabel text={name} colon={false} />\n                <span className=\"pull-right\">{beforeMovingProcess && decryptId(beforeMovingProcess.groupId) === decryptId(id) ? '当前所在组' : ''}</span>\n              </div>\n            ))\n          }\n        </Modal>\n\n        <Modal\n          visible={processCreateVisible}\n          title=\"新建审批流程\"\n          onCancel={this.cancelProcessList}\n          footer={null}\n          width={800}\n          wrapClassName=\"modal-review\"\n          getContainer={() => document.getElementsByClassName('work-review')[0] as any}\n        >\n          <Row className=\"modal-review-sectitle\">\n            <Col span={18} >\n              <Button type=\"primary\" value=\"existingProcess\">从已有流程新建</Button>\n            </Col>\n            <Col span={6} style={{ textAlign: 'right' }}>\n              <Link to=\"/work/review/createProcess\">\n                <Button onClick={this.cancelProcessList} type=\"primary\" ghost icon=\"plus\" >\n                  自定义流程\n                </Button>\n              </Link>\n            </Col>\n          </Row>\n          <Templatelist\n            className=\"modal-review-list\"\n            datasource={processes && processes.enable}\n            pathname=\"/work/review/createProcess\"\n            onItemClick={this.cancelProcessList}\n          />\n        </Modal>\n      </Layout>\n    )\n  }\n}\n"],"sourceRoot":""}