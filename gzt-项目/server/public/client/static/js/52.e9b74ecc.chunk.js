(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{1000:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return N});a(155);var n,r=a(94),o=(a(233),a(13)),s=(a(461),a(462)),c=(a(120),a(27)),i=(a(459),a(460)),l=a(2),p=a.n(l),u=(a(58),a(12)),m=a(57),d=a(42),y=a(43),f=a(45),h=a(44),g=a(46),v=a(4),w=(a(237),a(157)),b=a(0),E=a(699),L=a.n(E),S=(a(876),a(51)),j=a(3),k=w.a.Content,O=w.a.Header,N=Object(S.c)(function(e){return Object(v.a)({},e.Approval,{listLoading:e.loading.effects["".concat("Approval","/queryTemSortList")]})},function(e){return{showTemSortList:function(t){e({type:"".concat("Approval","/queryTemSortList"),payload:t})}}})(n=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={sortLoading:!1},a.saveSortInfo=function(){a.setState({sortLoading:!0});for(var e=document.body.querySelectorAll(".temSortList .sort-list"),t={},n=0;n<e.length;n++)t[e[n].dataset.type]=n;Object(m.a)(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)("/api/c_approval_type_sequence_save",{method:"POST",body:{sort_json:t}});case 2:n=e.sent,a.setState({sortLoading:!1}),"success"===n.status?(u.a.success("\u63d0\u4ea4\u6210\u529f"),a.props.history.push("/work/approval/management")):u.a.info("\u670d\u52a1\u5668\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5~");case 5:case"end":return e.stop()}},e)}))()},a.dragulaDecorator=function(e){e&&L()([e])},a}return Object(g.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.showTemSortList({company_id:"1"})}},{key:"render",value:function(){var e=this.props,t=e.temSortList,a=e.history,n=e.listLoading,l=this.state.sortLoading;return b.createElement(w.a,{className:"management white"},b.createElement(O,{className:"white"},b.createElement(s.a,{className:"sort-wrapper"},b.createElement(i.a,{span:4},"\u5ba1\u6279\u7c7b\u578b\u5206\u7ec4\u6392\u5e8f"),b.createElement(i.a,{span:20,className:"text-right"},b.createElement(c.a,{className:"type-btn",onClick:function(){a.push("/work/approval/management")}},"\u53d6\u6d88\u6392\u5e8f"),b.createElement(c.a,{loading:l,type:"primary",onClick:this.saveSortInfo,style:{marginRight:"20px"}},"\u4fdd\u5b58\u6392\u5e8f")))),b.createElement(k,null,b.createElement(r.a,{spinning:n,delay:300},b.createElement("div",{ref:this.dragulaDecorator,className:"temSortList"},t&&t.map(function(e,t){var a=e.type_id,n=e.name,r=e.all_count;return b.createElement(s.a,{className:"sort-list cursor-pointer",key:t,"data-type":a},b.createElement(i.a,{span:5},b.createElement(o.a,{type:"ordered-list",style:{paddingRight:"15px"},className:"parmary-color"}),"\u7c7b\u578b\u540d\u79f0\uff1a",n),b.createElement(i.a,{span:5},"\u5ba1\u6279\u6570\u91cf\uff1a",r))})))))}}]),t}(b.Component))||n},876:function(e,t,a){}}]);
//# sourceMappingURL=52.e9b74ecc.chunk.js.map