(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{968:function(e,t,r){},993:function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return O});r(237);var a,n=r(157),o=(r(155),r(94)),p=(r(233),r(13)),s=(r(461),r(462)),c=(r(120),r(27)),u=(r(459),r(460)),i=r(2),l=r.n(i),m=(r(58),r(12)),d=r(4),y=r(57),g=r(42),f=r(43),h=r(45),v=r(44),w=r(46),E=r(0),R=r.n(E),b=r(699),q=r.n(b),k=r(51),G=(r(968),r(3)),O=Object(k.c)(function(e){return{reportGroup:e.Review.reportGroup}},function(e){return{queryReportGroup:function(t){e({type:"".concat("Review","/queryReportGroup"),payload:t})},queryReportes:function(){e({type:"".concat("Review","/queryReports")})}}})(a=function(e){function t(){var e,r;Object(g.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(n)))).sortedReportWrapperEl=R.a.createRef(),r.state={loading:!1,queryLoading:!1},r.dragulaDecorator=function(e){e&&(q()([e]),r.sortedReportWrapperEl.current=e)},r.saveGroupSort=function(){r.setState({loading:!0});for(var e={},t=r.sortedReportWrapperEl.current.getElementsByClassName("group-item"),a=0;a<t.length;a++)e[t[a].dataset.type]=a;Object(y.a)(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(G.a)("/api/c_pst_saveExportTypeSequence",{method:"POST",body:Object(d.a)({},e)});case 2:a=t.sent,r.setState({loading:!1}),"success"===a.status?(m.a.success("\u4fdd\u5b58\u6210\u529f"),r.props.history.push("/work/review/exportmgt"),r.props.queryReportes(),r.props.queryReportGroup()):m.a.error("\u670d\u52a1\u5668\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5");case 5:case"end":return t.stop()}},t)}))()},r}return Object(w.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.reportGroup||(this.setState({queryLoading:!0}),this.props.queryReportGroup(function(){e.setState({queryLoading:!1})}))}},{key:"render",value:function(){var e=this,t=this.props.reportGroup,r=this.state,a=r.loading,i=r.queryLoading;return R.a.createElement(n.a,{className:"review-group-sort"},R.a.createElement(s.a,{className:"group-sort-header"},R.a.createElement(u.a,{span:4},R.a.createElement("span",{className:"group-sort-title"},"\u8bc4\u5ba1\u6d41\u7a0b\u5206\u7ec4\u6392\u5e8f")),R.a.createElement(u.a,{span:20,className:"text-right"},R.a.createElement(c.a,{onClick:function(){return e.props.history.replace("/work/review/exportmgt")}},"\u53d6\u6d88"),R.a.createElement(c.a,{loading:a,type:"primary",style:{marginLeft:"30px"},onClick:this.saveGroupSort},"\u4fdd\u5b58\u6392\u5e8f"))),R.a.createElement(o.a,{wrapperClassName:"spin-scroll-wrapper",spinning:i},R.a.createElement("div",{ref:this.dragulaDecorator,className:"group-sort-list"},t&&t.map(function(e,t){var r=e.id,a=e.name,n=e.count;return R.a.createElement(s.a,{className:"group-item",key:t,"data-type":r},R.a.createElement(p.a,{type:"ordered-list",style:{padding:"0 10px"}}),R.a.createElement("span",null,a),R.a.createElement("span",{style:{color:"#888"}},"\uff08",n,"\uff09"))}))))}}]),t}(R.a.Component))||a}}]);
//# sourceMappingURL=54.873b27ee.chunk.js.map